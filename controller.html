<!doctype html>
<html>
  <head>
    <title>Touch Controller</title>
    <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  </head>

  <!-- CSS -->
  <link rel="stylesheet" type="text/css" href="../css/controller.css">

  <!-- JS -->
  <script src="/socket.io/socket.io.js"></script>
  <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
  <script src="../js/VectorTouchController.js"></script>
  <script src="js/vendor/jquery.touchglow.js"></script>

  <script>

    $(document).ready(function(){

      var socket = io();

      promptForNickname();

      function promptForNickname() {

        var nickname = prompt("Welcome! Touch and drag to move your character. Tap screen to mine asteroids. Enter nickname.", '');
        var usercolor = '#'+Math.floor(Math.random()*16777215).toString(16);

        socket.emit('register', { 'usertype': 'client_controller',
                                  'nickname': nickname,
                                  'usercolor': usercolor
                                });

      }

      var touchControl = new VectorTouchController(socket);
      touchControl.enable();

    });

  </script>

  <body>
    <br/><h3 id="instruct" style="pointer-events:none;">Touch and drag to move.<br/>Tap to mine.</h3>
    <div id="arrow" style="position: absolute; display:none;">
      <div id="arrowinner" style="position: absolute; width: 55px; height: 200px; left: -28px; top: -100px;">
      <!-- <div id="arrowinner" style="position: absolute; width: 55px; height: 318px; left: -28px; top: -159px;"> -->
        <img src="img/arrow-50.png" />
      </div>
    </div>
    <canvas id="canvas" width="600" height="600"></canvas>
  </body>

</html>